# Gambler-loses_all

## 赌徒输光问题
#### A、B两人进行“公平”赌博，A、B两人最关心的一个问题：对方什么时候输光？
- 定理：在“公平”的赌博中，任意一个拥有赌本的赌徒和一个拥有无限赌本的赌徒进行长期赌博，那么有限赌本的赌徒输光的概率是100%。
- 推理：在“公平”的赌博中，两个拥有不一样的赌本进行长期赌博，赌本相对少的赌徒输光的概率比另一个赌徒要高。

### 证明
![](https://github.com/Aplicity/Gambler-loses_all/blob/master/prove_images/prove_01.png)
![](https://github.com/Aplicity/Gambler-loses_all/blob/master/prove_images/prove_02.png)

结论：在赌博“公平”时，谁的初始赌本多，则其最终胜率高。若去赌场跟庄家对赌（假定庄家具有无限赌本），则赌徒必输。


### 实例模拟

抛硬币游戏。假设A、B两人进行抛硬币，抛到正面，则B输给A 一单位资金，问在进行max_epoch次游戏后，问A、B口袋里各有几钱？ 假定A初始时有init_A_fund资本，B初始时有init_B_fund资本，任意一方输光后游戏停止。
                 
下面是以A的角度进行模拟分析的程序结果，假定每次赌局进行max_epoch= 50万次赌博，并进行了1000场赌局。在每场赌局中A、B初始赌本资金一致，分析在A、B初始赌本不同情况下，最后资金的分布情况。并以1000场赌局后拥有的资金占全赌场的总资金比例作为赌博胜率。

![](https://github.com/Aplicity/Gambler-loses_all/blob/master/images/不同初始赌本下的赌徒输光问题.png)

启示：即使游戏规则是公平的，但是先天拥有资本越多的富二代，到最后他们大概率也是富二代。

问题的提出：假若不是A、B两个人对赌呢？而是一群人互相对赌呢？

## 阶级跨越难题
#### 阶级跨越难题：一个集体里有n人，每人都有init_fund元，他们在玩一个游戏，每轮游戏每个人都要拿出一块钱随机给到另一人。假设允许负债下，问epoch轮后这个人分别对应的现金是多少？

上面控制到参数有三个：
 - 玩家数量：n
 - 各个玩家的初始金额：init_fund
 - 游戏盘数：epoch
 
分别控制某二个参数，改变剩余一个参数，看程序模拟结果。


#### 情况一：改变玩家数

  固定参数为各个玩家的初始金额init_fund = 100，游戏盘数epoch = 365 * 40（考虑人的一生从20岁奋斗到60岁）。分别模型玩家人数n = 100、1000、10000人的时候，其40年后的资金分布如下：
  ![](https://github.com/Aplicity/Gambler-loses_all/blob/master/images/不同数量参与者下的分布.png)
  
上图中左边是真实结果分布图，右边是经过标准化后处理后的分布图。你可以这场游戏看做是真实世界财富分配的简化模型，假设每个人出身一样，机会资源都一样，奋斗一生之后，你会发现无论这个社会多少人，只要总社会资源不变，到最后整个社会财富接近幂律分布。从分布结果能发现一些特征：
 - 前10%的人掌握着三分之一的财富，前20%的人掌握着超过半数的财富；
 - 最富有的人的财富为400元左右，是初始值的4倍；
 - 而大约四分之一的人背负债务，最多为负债为初始值的2倍。


#### 情况二：改变初始金额
固定参数为游戏的玩家数n=100，游戏盘数epoch = 40 * 365（考虑人的一生从20岁奋斗到60岁）。分别模拟各个玩家的初始金额init_fund = 100、1000、10000，其实也就是每次游戏的收益或损失分别对应为1%、0.1%、0.01%，其40年后的资金分布如下：
  ![](https://github.com/Aplicity/Gambler-loses_all/blob/master/images/不同初始金额下的分布.png)

  当每次游戏的收益或损失分别对应为1%时，会出现负债的情况，其分布特征与情况一的结论一致。收益率或损失率越小的时候，贫富差距越小。这个也很好理解，比如大家只是玩玩游戏，没有输赢胜负之分，到最后大家的财产也是不变的。但从右边标准化后的图可以知道，社会真正的相对贫富差距依然没变，或者跟情况一一致。

  这个举个例子就是，如果大概都有全班玩家（100个人）都有8000元，但只有30个玩家有9000以上，目前市场上只有20个商品，而这商品是所有玩家都需要的。那么市场商品定价会在9000元以上，那么不够钱买到商品的玩家有钱也没用，因为兑换不到商品。此时相对贫富指标更具参考价值。
  
#### 情况三：改变游戏盘数
固定参数为游戏的玩家数n = 100，各个玩家的初始金额init_fund = 100，也即是每次游戏的收益或损失分别对应为1%。改变游戏盘数epoch = 365、365*10、365*40，其最后资金分布如下：
  ![](https://github.com/Aplicity/Gambler-loses_all/blob/master/images/不同轮转次数下的分布.png)
  时间总是残酷的，推着时间的推移，有钱的越有钱，贫穷的越贫穷。以上还是在出身一样，机会资源公平的情况下的结果。当然，也限定了总的社会资源是不变的，这有悖现实。

#### 情况四：每局赢家获得额外收益
下面假设每次游戏赢家都能获得额外的收益，而输家则除了损失1元外没有额外的收益。在reward = 0、0.01、0.1的状态下，即每局游戏的赢家的额外收益率为0%、1%、10%的情况下，奋斗40年后，100个人的资产分布如下：
  ![](https://github.com/Aplicity/Gambler-loses_all/blob/master/images/赢家在不同额外收益下的分布.png)
  额外收益的确能改变各个玩家的绝对资产价值，但依然改不了贫富相对差距。那是不是方法用错了呢？凭什么赢了游戏的反而得到额外的奖励？现实可是赚的钱多的交税多。

#### 情况五：每局输家获得额外收益
下面假设每次游戏输家都能获得额外的补贴，而赢家则除了损失1元外没有额外的收益。在reward = 0、0.01、0.1的状态下，奋斗40年后，100个人的资产分布如下：
  ![](https://github.com/Aplicity/Gambler-loses_all/blob/master/images/输家在不同额外收益下的分布.png)
  对比赢家能得到额外的奖励这个模拟，似乎没什么显著差异，无论是从绝对财产分布或是相对贫困差距。这是因为机会是平等的，因此每个人一生获得的额外奖励或是补贴都说一样的。在实际中，在资源获取的机会不一样，出身好的人更容易获得资源，因此，如果在实际中给赚钱的人额外的奖励，只会造成更大的贫富差距。反而给亏钱人适当的补贴，才是发展正道。
  
 #### 情况六：固定一部分人每次胜率增加1%
如果有一部分人特别奋斗呢？假设这部分占10%，他们相对于其他人多了1%的竞争优势。从数据上来看，就是他们的游戏胜率增加1%。固定游戏参加者数量为100，大家初始资金都一样为100。在5年、10年、20年、40年后其资产分布结果如下：

![](https://github.com/Aplicity/Gambler-loses_all/blob/master/images/10%的人特别努力并比其他人高1%的赢率.png)
 上图中蓝色标注的为那10%特别奋斗的人，橙色的为普通人。刚开始，可能不是那10%的占据了排行榜前列，但随着时间的推移，这些人基本都占据了top 10%都位置，可能会有个别的相对落后，但可以看出至少比一半的玩家都要好。

 #### 情况七：特别奋斗的人 VS 富二代
那么在现实中，奋斗和出身二选一的话，哪个更占优势呢？假定还是100人，但10%的人为富二代，他们的初始金额为普通人的multiple倍，但获胜几率跟普通人一样；10%的人特别奋斗，他们比其他人的获胜几率增加rate%，但初始资金跟普通人一样；剩下80%为普通的，其初始资金为100。分别模拟rete在0%、1%、2%、4%下，对应multiple在1、2、4、8倍的分布结果：

![](https://github.com/Aplicity/Gambler-loses_all/blob/master/images/奋斗增加rate%的获胜概率vs出身拥有资本为普通人的multiple倍.png)
  
 上图中，自上而下而下分布为固定其他参数，特别奋斗的人在增加不同的获胜几率rate下的模型结果，自左往右分布为固定其他参数，当富二代的初始金额为其他人的multiple倍下的模型结果。每个图中粉红色的为普通玩家，黑色的特别奋斗的人，占10%；青绿色的为富二代。

左上角的图为绝对公平背景下的分布结果，即特别奋斗的人也不会获得额外的胜率，富二代的初始金额也是跟其他人一样。可以看出三个群体没有特别的分离。但随着特别勤奋的人在每场游戏中获得额外的胜率（或理解成资源），他们也会超越一些富二代，如果还未能完全超越富二代的话，那只是时间的问题。因为他们是社会规则的制定者。而对于富二代们来说，如果特别奋斗的人额外获得的胜率还不是很高的时候，还是可以凭借着“赌徒输光”的优势完虐普通人，并占据top10%的梯队的。但社会发展到最后，可以根据右下角的图看出，普通人完全跟富二代和努力奋斗的人不是一个层次的。或者可以用一句话来总结：不怕人家出身比你好，最怕人家还比你勤奋。

  
  


 
 
